metricsets: ["event"]
period: {{period}}
add_metadata: {{add_metadata}}
skip_older: {{skip_older}}
{{#if leaderelection }}
{{#if condition }}
condition: ${kubernetes_leaderelection.leader} == true and {{ condition }}
{{ else }}
condition: ${kubernetes_leaderelection.leader} == true
{{/if}}
{{ else }}
{{#if condition }}
condition: {{ condition }}
{{/if}}
{{/if}}
{{#if namespace}}
namespace: {{namespace}}
{{/if}}

processors:
{{#if cluster_name}}
- add_fields:
    target: orchestrator.cluster
    fields:
      name: {{cluster_name}}
{{/if}}
{{#if processors}}
{{processors}}
{{/if}}
